#
#	Makefile.BSD - input for pmake
#
# Copyright (C) 1999 Planix, Inc. - All rights reserved.
#
#ident	"@(#)$Name:  $:$Id: Makefile.BSD.in,v 1.2 1999/01/15 19:29:55 woods Exp $"

# adjust these as desired:
CPPFLAGS+= -DFINGER_PATH=\"/usr/bin/finger\"
CPPFLAGS+= -DFINGERD_MOTD=\"/etc/fingerd.motd\"
CPPFLAGS+= -DFINGERD_ACL=\"/etc/fingerd.acl\"
CPPFLAGS+= -DFINGERD_USERS=\"/etc/fingerd.users\"

BINDIR?= /usr/libexec

# You shouldn't have to change anything below here.

CPPFLAGS+= -DHAVE_RE_40BSD
CPPFLAGS+= -Dwc_comp=re_comp
CPPFLAGS+= -Dwc_exec=re_exec
CPPFLAGS+= -DRETSIGTYPE=void
CPPFLAGS+= -DSTDC_HEADERS
CPPFLAGS+= -DTIME_WITH_SYS_TIME
CPPFLAGS+= -DHAVE_ERR
CPPFLAGS+= -DHAVE_ERRNO_H
CPPFLAGS+= -DHAVE_LIBWRAP
CPPFLAGS+= -DHAVE_MEMCPY
CPPFLAGS+= -DHAVE_STRCHR
CPPFLAGS+= -DHAVE_STRDUP
CPPFLAGS+= -DHAVE_STRERROR
CPPFLAGS+= -DHAVE_STRTOK
CPPFLAGS+= -DHAVE_STRING_H
CPPFLAGS+= -DHAVE_SYS_CDEFS_H
CPPFLAGS+= -DHAVE_SYS_TYPES_H
CPPFLAGS+= -DHAVE_SYS_WAIT_H
CPPFLAGS+= -DHAVE_UNISTD_H

CPPFLAGS+= -DPACKAGE=\"@PACKAGE@\"
CPPFLAGS+= -DVERSION=\"@VERSION@\"

LDADD+=	-lcompat -lwrap

PROG=	fingerd

SRCS=	fingerd.c access.c misc.c version.c wildcard.c

MAN= fingerd.8

FFILES=	${.CURDIR}/samples/fingerd.acl \
	${.CURDIR}/samples/fingerd.motd \
	${.CURDIR}/samples/fingerd.users

WARNS?= 0

distribution:
	cd ${.CURDIR}/samples; \
		${INSTALL} -c -o root -g wheel -m 644 ${FFILES} ${DESTDIR}/etc

.include <bsd.prog.mk>
